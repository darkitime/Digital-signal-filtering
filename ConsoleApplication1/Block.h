#pragma once
#include <string>
#include <vector>

/**
 * @brief Абстрактный базовый класс "Блок обработки сигналов".
 * * @details Определяет общий интерфейс для всех узлов системы обработки
 * (фильтров, сумматоров и т.д.). Содержит общие методы для работы с именем блока,
 * обработки данных и сброса внутреннего состояния.
 */
class Block {
protected:
    std::string name; /**< Имя текущего блока */

public:
    /**
     * @brief Конструктор инициализации блока.
     * @param nm Строка, содержащая имя создаваемого блока.
     */
    explicit Block(const std::string& nm) : name(nm) {}

    /**
     * @brief Виртуальный деструктор.
     * @details Необходим для корректного освобождения ресурсов в производных классах.
     */
    virtual ~Block() = default;

    /**
     * @brief Получить имя блока.
     * @return Возвращает строку с именем текущего блока.
     */
    std::string getName() const { return name; }

    /**
     * @brief Абстрактный метод обработки входных данных.
     * @details Выполняет основную математическую операцию блока над входным вектором.
     * @param input Вектор значений входных сигналов.
     * @return Результат обработки (выходное значение).
     */
    virtual double process(const std::vector<double>& input) = 0;

    /**
     * @brief Сброс внутреннего состояния блока.
     * @details Очищает внутренние буферы (например, линии задержки в фильтрах),
     * подготавливая блок к обработке новой последовательности данных.
     */
    virtual void reset() = 0;
};