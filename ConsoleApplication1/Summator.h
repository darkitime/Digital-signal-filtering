#pragma once
#include "Block.h"

/**
 * @brief Класс для взвешенного суммирования двух сигналов.
 * * @details Наследуется от класса Block. Реализует математическую операцию:
 * y = u * x1 + v * x2, где u и v — весовые коэффициенты.
 */
class Summator : public Block {
private:
    double u; /**< Весовой коэффициент для первого входа (x1) */
    double v; /**< Весовой коэффициент для второго входа (x2) */

public:
    /**
     * @brief Конструктор сумматора.
     * @param nm Имя блока сумматора.
     * @param uu Коэффициент усиления для первого сигнала.
     * @param vv Коэффициент усиления для второго сигнала.
     */
    Summator(const std::string& nm, double uu, double vv);

    /**
     * @brief Обработка вектора входных данных.
     * @param inputs Вектор входных данных. Ожидается, что размер вектора равен 2 (два слагаемых).
     * @return Результат взвешенного суммирования.
     */
    double process(const std::vector<double>& inputs) override;

    /**
     * @brief Метод сброса внутреннего состояния.
     * @details Для сумматора метод пуст, так как блок не имеет памяти (не хранит предыдущие состояния).
     */
    void reset() override;

    /**
     * @brief Перегрузка оператора вызова функции "()".
     * @param x1 Значение первого сигнала.
     * @param x2 Значение второго сигнала.
     * @return Результат вычисления: u * x1 + v * x2.
     */
    double operator()(double x1, double x2);
};
